<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nerd Society - Booking System Flow</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: #1a1a2e;
            color: #eee;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #fff;
            border-bottom: 2px solid #e94560;
            padding-bottom: 10px;
        }

        h2 {
            color: #e94560;
            margin-top: 40px;
        }

        h3 {
            color: #0f3460;
            background: #fff;
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .flow-section {
            background: #16213e;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .mermaid {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: #0f3460;
            border-radius: 8px;
            overflow: hidden;
        }

        th,
        td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #1a1a2e;
        }

        th {
            background: #e94560;
            color: white;
        }

        tr:hover {
            background: #1a1a2e;
        }

        .note {
            background: #0f3460;
            border-left: 4px solid #e94560;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
            margin-left: 10px;
        }

        .badge-online {
            background: #00d9ff;
            color: #000;
        }

        .badge-onsite {
            background: #e94560;
            color: #fff;
        }

        .toc {
            background: #0f3460;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .toc a {
            color: #00d9ff;
            text-decoration: none;
            display: block;
            padding: 5px 0;
        }

        .toc a:hover {
            color: #e94560;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üéÆ NERD SOCIETY - H·ªÜ TH·ªêNG BOOKING</h1>
        <p style="text-align: center; opacity: 0.7;">T√†i li·ªáu t·ªïng h·ª£p t·∫•t c·∫£ c√°c Flow nghi·ªáp v·ª•</p>

        <div class="toc">
            <strong>üìã M·ª•c l·ª•c:</strong>
            <a href="#flow1">1. Flow T·ªïng quan H·ªá th·ªëng</a>
            <a href="#flow2">2. Flow Kh√°ch h√†ng Book Online</a>
            <a href="#flow3">3. Flow Check-in / Check-out t·∫°i Qu·∫ßy</a>
            <a href="#flow4">4. Flow Nh√¢n vi√™n Book h·ªô Kh√°ch (Walk-in)</a>
            <a href="#pricing">5. B·∫£ng gi√° & C√¥ng th·ª©c t√≠nh ti·ªÅn</a>
            <a href="#staff">6. H∆∞·ªõng d·∫´n thao t√°c Nh√¢n vi√™n</a>
        </div>

        <!-- FLOW 1: System Overview -->
        <div id="flow1" class="flow-section">
            <h2>1. Flow T·ªïng quan H·ªá th·ªëng</h2>
            <div class="mermaid">
                graph TD
                subgraph "KH√ÅCH H√ÄNG"
                A([Kh√°ch Online]) -->|Truy c·∫≠p Website| B[Trang Booking]
                C([Kh√°ch Walk-in]) -->|ƒê·∫øn qu·∫ßy| D[Nh√¢n vi√™n]
                end

                subgraph "BOOKING"
                B -->|Ch·ªçn d·ªãch v·ª• & Gi·ªù| E{Check Slot tr·ªëng}
                E -->|C√≤n slot| F[Nh·∫≠p th√¥ng tin]
                E -->|H·∫øt slot| G[Ch·ªçn gi·ªù kh√°c]
                F --> H[Thanh to√°n C·ªçc 50%]
                H --> I[Booking CONFIRMED]

                D -->|Book h·ªô| J[Admin t·∫°o Booking]
                J --> I
                end

                subgraph "T·∫†I QU·∫¶Y"
                I -->|Kh√°ch ƒë·∫øn| K[Check-in]
                K --> L[S·ª≠ d·ª•ng d·ªãch v·ª•]
                L --> M[Check-out]
                M --> N{T√≠nh ti·ªÅn th·ª±c t·∫ø}
                N --> O[Thu ti·ªÅn c√≤n l·∫°i qua Sapo]
                O --> P[Booking COMPLETED]
                end

                subgraph "DATA"
                DB[(Database)]
                I --> DB
                K --> DB
                M --> DB
                end
            </div>
        </div>

        <!-- FLOW 2: Customer Online Booking -->
        <div id="flow2" class="flow-section">
            <h2>2. Flow Kh√°ch h√†ng Book Online <span class="badge badge-online">ONLINE</span></h2>
            <div class="mermaid">
                sequenceDiagram
                actor Khach as Kh√°ch h√†ng
                participant Web as Website
                participant System as Backend
                participant Payment as C·ªïng TT

                Khach->>Web: 1. Ch·ªçn lo·∫°i ph√≤ng (Meeting/Pod)
                Web->>Khach: Hi·ªÉn th·ªã gi√° & m√¥ t·∫£

                Khach->>Web: 2. Ch·ªçn Ng√†y
                Web->>System: Check l·ªãch tr·ªëng
                System-->>Web: Tr·∫£ v·ªÅ slot ƒë√£ book
                Web->>Khach: Hi·ªÉn th·ªã c√°c khung gi·ªù tr·ªëng

                Khach->>Web: 3. Ch·ªçn Gi·ªù b·∫Øt ƒë·∫ßu + Th·ªùi l∆∞·ª£ng
                Web->>Web: T·ª± ƒë·ªông t√≠nh: Gi·ªù k·∫øt th√∫c, T·ªïng ti·ªÅn, C·ªçc 50%

                Khach->>Web: 4. Nh·∫≠p: T√™n, SƒêT, Ghi ch√∫
                Khach->>Web: Click "ƒê·∫∑t & Thanh to√°n"

                Web->>System: T·∫°o Pending Booking
                System->>Payment: T·∫°o QR thanh to√°n
                Payment-->>Khach: 5. Hi·ªÉn th·ªã QR C·ªçc

                Khach->>Payment: Chuy·ªÉn kho·∫£n
                Payment->>System: Webhook: Success
                System->>System: Status = CONFIRMED

                System-->>Khach: 6. Th√¥ng b√°o th√†nh c√¥ng + M√£ booking
            </div>
        </div>

        <!-- FLOW 3: Onsite Check-in/out -->
        <div id="flow3" class="flow-section">
            <h2>3. Flow Check-in / Check-out t·∫°i Qu·∫ßy <span class="badge badge-onsite">ONSITE</span></h2>
            <div class="mermaid">
                sequenceDiagram
                actor Khach as Kh√°ch
                actor Staff as Nh√¢n vi√™n
                participant Admin as Admin
                participant Sapo as Sapo POS

                rect rgb(230, 245, 255)
                Note over Khach, Admin: CHECK-IN
                Khach->>Staff: Cho em xin t√™n/SƒêT
                Staff->>Admin: T√¨m booking
                Admin-->>Staff: Hi·ªÉn th·ªã chi ti·∫øt
                Staff->>Admin: Click [Check-in]
                Note right of Admin: Ghi Start Time

                alt L√† kh√°ch Pod
                Staff->>Khach: Ph√°t Nerd Coin
                end
                Staff->>Khach: D·∫´n v√†o ph√≤ng
                end

                Note over Khach: ... S·ª≠ d·ª•ng d·ªãch v·ª• ...

                rect rgb(255, 240, 245)
                Note over Khach, Sapo: CHECK-OUT
                Khach->>Staff: Em check-out
                Staff->>Admin: Click [Check-out]
                Note right of Admin: Ghi End Time

                Admin->>Admin: So s√°nh: Th·ª±c t·∫ø vs ƒê·∫∑t tr∆∞·ªõc

                alt Qu√° gi·ªù
                Admin-->>Staff: C·∫£nh b√°o: Ph√°t sinh +X ph√∫t
                Admin->>Admin: T√≠nh ti·ªÅn ph·ª• tr·ªôi
                end

                Admin-->>Staff: Bill: T·ªïng - C·ªçc = C√≤n l·∫°i
                Staff->>Sapo: T·∫°o ƒë∆°n thu ti·ªÅn
                Staff->>Khach: Thu ti·ªÅn c√≤n l·∫°i
                Staff->>Admin: Click [Ho√†n t·∫•t]
                end
            </div>
        </div>

        <!-- FLOW 4: Staff-assisted Walk-in -->
        <div id="flow4" class="flow-section">
            <h2>4. Flow Nh√¢n vi√™n Book h·ªô Kh√°ch <span class="badge badge-onsite">WALK-IN</span></h2>
            <div class="mermaid">
                sequenceDiagram
                actor Khach as Kh√°ch Walk-in
                actor Staff as Nh√¢n vi√™n
                participant Admin as Admin

                Khach->>Staff: Em mu·ªën ng·ªìi Pod/Meeting
                Staff->>Admin: M·ªü: Bookings > T·∫°o m·ªõi

                rect rgb(255, 250, 230)
                Note right of Staff: NH·∫¨P TH√îNG TIN
                Staff->>Admin: Lo·∫°i ph√≤ng
                Staff->>Admin: Ng√†y + Gi·ªù b·∫Øt ƒë·∫ßu
                Staff->>Admin: Th·ªùi l∆∞·ª£ng d·ª± ki·∫øn
                Staff->>Admin: T√™n + SƒêT kh√°ch
                Staff->>Admin: Ngu·ªìn: "T·∫°i qu·∫ßy"
                Staff->>Admin: Tr·∫°ng th√°i c·ªçc
                end

                Staff->>Admin: Click [T·∫°o Booking]

                alt Thu c·ªçc ti·ªÅn m·∫∑t
                Staff->>Khach: Thu c·ªçc 50%
                Staff->>Admin: Ghi nh·∫≠n: ƒê√£ c·ªçc
                else Kh√¥ng c·ªçc
                Staff->>Admin: Ghi nh·∫≠n: Ch∆∞a c·ªçc
                end

                Staff->>Admin: Click [Check-in] ngay
                Staff->>Khach: D·∫´n v√†o ph√≤ng
                Note over Staff: Check-out nh∆∞ flow #3
            </div>
        </div>

        <!-- PRICING -->
        <div id="pricing" class="flow-section">
            <h2>5. B·∫£ng gi√° & C√¥ng th·ª©c t√≠nh ti·ªÅn</h2>

            <h3>Meeting Room</h3>
            <div class="note" style="margin-bottom: 15px;">
                <strong>üìç C√≥ 2 ph√≤ng Meeting:</strong><br>
                ‚Ä¢ <strong>Meeting Room 1 - B√†n d√†i:</strong> Ph√π h·ª£p h·ªçp nh√≥m l·ªõn, thuy·∫øt tr√¨nh, workshop<br>
                ‚Ä¢ <strong>Meeting Room 2 - B√†n tr√≤n:</strong> Ph√π h·ª£p h·ªçp nh√≥m nh·ªè, th·∫£o lu·∫≠n<br><br>
                <em>üí° Gi√° b√°n CHUNG cho c·∫£ 2 ph√≤ng, t√≠nh theo s·ªë l∆∞·ª£ng ng∆∞·ªùi:</em>
            </div>
            <table>
                <tr>
                    <th>S·ªë ng∆∞·ªùi</th>
                    <th>Gi√°/gi·ªù</th>
                    <th>Ghi ch√∫</th>
                </tr>
                <tr>
                    <td>0 - 8 ng∆∞·ªùi</td>
                    <td>80.000ƒë</td>
                    <td>T√≠nh theo block 1h</td>
                </tr>
                <tr>
                    <td>8 - 20 ng∆∞·ªùi</td>
                    <td>100.000ƒë</td>
                    <td>T√≠nh theo block 1h</td>
                </tr>
            </table>

            <h3>Pod</h3>
            <table>
                <tr>
                    <th>Lo·∫°i Pod</th>
                    <th>Gi·ªù ƒë·∫ßu</th>
                    <th>T·ª´ gi·ªù 2 (t√≠nh ph√∫t)</th>
                    <th>Nerd Coin</th>
                </tr>
                <tr>
                    <td>Mono Pod (1 ng∆∞·ªùi)</td>
                    <td>19.000ƒë</td>
                    <td>15.000ƒë/h</td>
                    <td>1 coin</td>
                </tr>
                <tr>
                    <td>Multi Pod (2 ng∆∞·ªùi)</td>
                    <td>29.000ƒë</td>
                    <td>25.000ƒë/h</td>
                    <td>2 coin</td>
                </tr>
            </table>

            <div class="note">
                <strong>üßÆ C√¥ng th·ª©c Pod:</strong><br>
                <code>T·ªïng = Gi√°_gi·ªù_ƒë·∫ßu + (S·ªë_ph√∫t_sau / 60) √ó Gi√°_gi·ªù_sau</code><br><br>
                <strong>V√≠ d·ª•:</strong> Mono Pod 1h30p = 19k + (30/60 √ó 15k) = 19k + 7.5k = <strong>26.500ƒë</strong>
            </div>
        </div>

        <!-- STAFF GUIDE -->
        <div id="staff" class="flow-section">
            <h2>6. H∆∞·ªõng d·∫´n thao t√°c Nh√¢n vi√™n</h2>

            <h3>Kh√°ch C√ì booking</h3>
            <table>
                <tr>
                    <th>Thao t√°c</th>
                    <th>C·∫ßn nh·∫≠p g√¨?</th>
                </tr>
                <tr>
                    <td>Check-in</td>
                    <td>Ch·ªâ click n√∫t <strong>[Check-in]</strong> - Kh√¥ng nh·∫≠p g√¨</td>
                </tr>
                <tr>
                    <td>Check-out</td>
                    <td>Ch·ªâ click n√∫t <strong>[Check-out]</strong> + <strong>[Ho√†n t·∫•t]</strong></td>
                </tr>
            </table>

            <h3>Kh√°ch Walk-in (Book h·ªô)</h3>
            <table>
                <tr>
                    <th>Tr∆∞·ªùng</th>
                    <th>B·∫Øt bu·ªôc</th>
                </tr>
                <tr>
                    <td>Lo·∫°i ph√≤ng</td>
                    <td>‚úÖ</td>
                </tr>
                <tr>
                    <td>Ng√†y + Gi·ªù b·∫Øt ƒë·∫ßu</td>
                    <td>‚úÖ</td>
                </tr>
                <tr>
                    <td>Th·ªùi l∆∞·ª£ng d·ª± ki·∫øn</td>
                    <td>‚úÖ</td>
                </tr>
                <tr>
                    <td>T√™n kh√°ch</td>
                    <td>‚úÖ</td>
                </tr>
                <tr>
                    <td>SƒêT</td>
                    <td>‚úÖ</td>
                </tr>
                <tr>
                    <td>S·ªë ng∆∞·ªùi (Meeting)</td>
                    <td>‚úÖ (n·∫øu Meeting)</td>
                </tr>
                <tr>
                    <td>Ngu·ªìn ƒë·∫∑t</td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td>Ghi ch√∫</td>
                    <td>Optional</td>
                </tr>
            </table>
        </div>

    </div>
</body>

</html>